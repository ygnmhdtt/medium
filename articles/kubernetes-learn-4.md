---
title: "Kubernetesについて学ぶ 4"
date: 2018-01-14T11:01:57+09:00
tags:
- kubernetes
---

デプロイについて学ぶ。

<!--more-->

前回は[こちら](https://yaginumahidetatsu.com/2018/01/13/kubernetes-learn-3/)。

今日からModule2の、 `Deploy an App` について学んでいく。

### Kubernetes Deployments

```
Kubernetesクラスタが稼動したら、コンテナ化されたアプリケーションをその上に配置できます。
これを行うには、KubernetesのDeployment Configurationを作成します。
デプロイメントは、Kubernetesにアプリケーションのインスタンスの作成と更新の方法を指示します。
デプロイメントを作成したら、Kubernetesのマスタースケジュールはアプリケーションインスタンスを
クラスター内の個々のノードにメンションしました。

アプリケーションインスタンスが作成されると、
Kubernetes Deployment Controllerはそれらのインスタンスを継続的に監視します。
インスタンスをホストしているノードが停止したり削除されたりすると、
Deployment Controllerがそれを置き換えます。
これにより、マシンの障害またはメンテナンスに対処するための自己修復メカニズムが提供されます。

プリオーケストレーションの世界では、
アプリケーションを起動するためにインストールスクリプトが使用されることがよくありましたが、
マシンの障害からの回復は許可されませんでした。 
Kubernetes Deploymentsは、アプリケーションインスタンスを作成し、
それらのノード間でアプリケーションインスタンスを実行することによって、
アプリケーション管理に対する根本的に異なるアプローチを提供します。
```

* Deployment Configurationを作成する
* masterがnodeにアプリケーションを配備する
* Deployment Controllerがインスタンスを監視する

Kubernetesがアプリケーションインスタンス(実体はたぶんコンテナ)を、ノードに配備する。そして管理もやってくれる。
という話らしい。

### Deploying your first app on Kubernetes

```
デプロイメントを作成および管理するには、KubernetesコマンドラインインターフェイスKubectlを使用します。 
KubectlはKubernetes APIを使用してクラスタと対話します。
このモジュールでは、Kubernetesクラスタでアプリケーションを実行するデプロイメントを
作成するために必要な最も一般的なKubectlコマンドについて学習します。

デプロイメントを作成するときは、
アプリケーションのコンテナイメージと実行するレプリカの数を指定する必要があります。
後でその情報を変更することができます。
ブートキャンプのモジュール5と6では、配備の拡張と更新の方法について説明しています。

最初のデプロイでは、Dockerコンテナにパッケージ化されたNode.jsアプリケーションを使用します。
ソースコードとDockerfileは、Kubernetes BootcampのGitHubリポジトリにあります。

デプロイメントが何であるかを知ったので、オンラインチュートリアルに行き、最初のアプリをデプロイしましょう！
```

次回はチュートリアルをやる。
